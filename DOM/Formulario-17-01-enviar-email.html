<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="" method="post" enctype="multipart/form-data" id="formularioEjemplo">
        Nombre: <input type="text" name="nombre" id="nombre" size="50"><br/>
        Apellidos: <input type="text" name="apellidos" id="apellidos" size="50"><br/>
        DNI: <input type="text" name="dni" id="dni" size="10"><br/>

        <label for="hombre">Sexo:</label> <br/>
        <input type="radio" name="sexo" id="hombre" checked>Hombre<br/>
        <input type="radio" name="sexo" id="mujer">Mujer<br/>

        Incluir mi foto: <input type="file" name="foto" id="foto"><br/>
        <input type="checkbox" name="publicidad" id="publicidad" checked>Enviar publicidad <br/>

        <select id="aprobar" >
            <option value="10">Saco 10 en DWEC</option>
            <option value="9">Saco 9 en DWEC</option>
            <option value="8">Saco 8 en DWEC</option>
            <option value="añadir">Añadir</option>
        </select> <br/>

        <input type="submit" value="Guardamos cambios" name="guardar">
        <input type="reset" value="Borrar los datos introducidos" name="resetear">
        
    </form>

    <script>
        /*
        al pulsar sobre añadir tiene que meter una nueva opcion
        */
        window.addEventListener("load", () => {
        
        let formulario = document.getElementById("formularioEjemplo");
        let nombre = document.getElementById("nombre");

        formulario.addEventListener("submit",(event) => {
            event.preventDefault();
            let info = confirm("Si estás seguro de guardar la información pulsa aceptar, en caso contrario pulsa cancelar");
            if(info){
                let asunto = "Mensaje desde el formulario";
                let destinatario = "mi-email.com";
                let cuerpoMensaje = "Nombre: " + nombre.value + "\n"; 
                //Con esto parseamos la información para que se muestre en el gestor de correo
                let mailtoLink = "mailto:" + destinatario + "?subject=" + encodeURIComponent(asunto) + "&body=" + encodeURIComponent(cuerpoMensaje);
                window.location.href = mailtoLink;
                formulario.submit();
            }
        });

        formulario.addEventListener("reset",(event) => {
            nombre.focus();
        });

        });
        
    </script>
</body>
</html>