<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button type="button" id="incrementar">Incrementar</button>
    <button type="button" id="decrementar">Descrementar</button>
    <button type="button" id="logout">Desconectar</button>

    <p id="saludo"></p>
    <p id="contador"></p>
    <script>

        if(typeof(Storage) !== 'undefined'){
            alert("El navegador si soporta web storage");

            if(localStorage.usuario != null){
                document.getElementById("saludo").innerHTML = "Bienvendio de nuevo " + localStorage.usuario;
            }else{
                localStorage.usuario = prompt("¿Cual es tu nombre?");
                document.getElementById("saludo").innerHTML = "Tú primera visita " + localStorage.usuario;
            }

            if(!sessionStorage.getItem("contador"))sessionStorage.setItem("contador",0)

            document.getElementById("contador").innerHTML = "Contador " + sessionStorage.getItem("contador");
            document.getElementById("incrementar").addEventListener("click",incrementar);
            document.getElementById("decrementar").addEventListener("click",decrementar);
            document.getElementById("logout").addEventListener("click",logout);
        }else{
            alert("El navegador no soporta web storage");
        }
        
        function incrementar(){
            sessionStorage.setItem("contador",Number(sessionStorage.getItem("contador")) + 1);
            document.getElementById("contador").innerHTML = "Contador " + sessionStorage.getItem("contador");
        }

        function decrementar(){
            sessionStorage.setItem("contador",Number(sessionStorage.getItem("contador"))-1);
            document.getElementById("contador").innerHTML = "Contador " + sessionStorage.getItem("contador");
        }

        function logout(){
            alert("Se ha cerrado la sesión de " + localStorage.getItem("usuario"));
            localStorage.removeItem("usuario");
            document.getElementById("saludo").innerHTML = "";
        }
    </script>
</body>
</html>